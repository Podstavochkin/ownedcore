# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

**–î–∞—Ç–∞:** 29.12.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —ç—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã

### ‚úÖ –≠—Ç–∞–ø 1.1: –§–∏–ª—å—Ç—Ä –ø–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É level_score

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `SIGNAL_FILTER_MIN_LEVEL_SCORE = 30.0` –≤ `core/config.py`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_timeframe_min_score()` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `should_block_signal_by_filters()`
- –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –≤ `core/analysis_engine.py` (—Å—Ç—Ä–æ–∫–∞ ~2215)
- –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –≤ `tasks/level_touch_tasks.py` (—Å—Ç—Ä–æ–∫–∞ ~197)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- 15m: –º–∏–Ω–∏–º—É–º 35.0
- 1h: –º–∏–Ω–∏–º—É–º 30.0
- 4h: –º–∏–Ω–∏–º—É–º 30.0

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –§–∏–ª—å—Ç—Ä—É–µ—Ç ~15% —Ö—É–¥—à–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤, —É–ª—É—á—à–∞–µ—Ç winrate –Ω–∞ ~5%

---

### ‚úÖ –≠—Ç–∞–ø 1.2: –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –±–æ–∫–æ–≤—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤ (SIDEWAYS)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `SIGNAL_FILTER_BLOCK_SIDEWAYS = true` –≤ `core/config.py`
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `should_block_signal_by_filters()`
- –ë–ª–æ–∫–∏—Ä—É—é—Ç—Å—è —Ç—Ä–µ–Ω–¥—ã: `DOWN_SIDEWAYS`, `UP_SIDEWAYS`, `SIDEWAYS_*`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –§–∏–ª—å—Ç—Ä—É–µ—Ç ~11% –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤, —É–ª—É—á—à–∞–µ—Ç winrate –Ω–∞ ~2-3%

---

### ‚úÖ –≠—Ç–∞–ø 2: –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ª—É—á—à–∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `calculate_signal_priority()` –≤ `core/analysis_engine.py`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `SIGNAL_FILTER_ENABLE_PRIORITY = true`

**–ë–æ–Ω—É—Å—ã –∑–∞ –ª—É—á—à–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:**
- `1h + UP_STRONG`: +10 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (83.3% winrate)
- `1h + DOWN_STRONG`: +8 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (62.5% winrate)
- `DOWN_WEAK + level_score 30-40`: +7 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (60% winrate)
- `UP_STRONG + level_score < 30`: +6 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (75% winrate)

**–®—Ç—Ä–∞—Ñ—ã –∑–∞ —Ö—É–¥—à–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:**
- `15m + UP_STRONG`: -5 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (10% winrate)
- `UP_WEAK + level_score < 30`: -4 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (10.5% winrate)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–∏–≥–Ω–∞–ª—ã —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º < -3 –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è, –Ω–æ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.

---

### ‚úÖ –≠—Ç–∞–ø 3: –£–ª—É—á—à–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –†–∞–∑–Ω—ã–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ level_score –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
- 15m —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π score (35 –≤–º–µ—Å—Ç–æ 30)

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –£–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ 15m —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ

---

### ‚úÖ –≠—Ç–∞–ø 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

1. **–§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –¥–æ —É—Ä–æ–≤–Ω—è:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞: `SIGNAL_FILTER_MAX_DISTANCE_PCT = 0.5`
   - –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º > 0.5%

2. **–§–∏–ª—å—Ç—Ä –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ç–µ—Å—Ç–æ–≤:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞: `SIGNAL_FILTER_MAX_TEST_COUNT = 20`
   - –ë–ª–æ–∫–∏—Ä—É–µ—Ç —É—Ä–æ–≤–Ω–∏ —Å test_count > 20

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`core/config.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_timeframe_min_score()`

2. **`core/analysis_engine.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `should_block_signal_by_filters()` (—Å—Ç—Ä–æ–∫–∞ ~543)
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `calculate_signal_priority()` (—Å—Ç—Ä–æ–∫–∞ ~580)
   - –ü—Ä–∏–º–µ–Ω–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∏–≥–Ω–∞–ª–∞ (—Å—Ç—Ä–æ–∫–∞ ~2215)

3. **`tasks/level_touch_tasks.py`**
   - –ü—Ä–∏–º–µ–Ω–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∏–≥–Ω–∞–ª–∞ (—Å—Ç—Ä–æ–∫–∞ ~197)

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:

```env
# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π level_score (–±–∞–∑–æ–≤—ã–π)
SIGNAL_FILTER_MIN_LEVEL_SCORE=30.0

# –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –±–æ–∫–æ–≤—ã–µ —Ç—Ä–µ–Ω–¥—ã
SIGNAL_FILTER_BLOCK_SIDEWAYS=true

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ —É—Ä–æ–≤–Ω—è
SIGNAL_FILTER_MAX_TEST_COUNT=20

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —É—Ä–æ–≤–Ω—è (%)
SIGNAL_FILTER_MAX_DISTANCE_PCT=0.5

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π score –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
SIGNAL_FILTER_15M_MIN_SCORE=35.0
SIGNAL_FILTER_1H_MIN_SCORE=30.0
SIGNAL_FILTER_4H_MIN_SCORE=30.0

# –í–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—é
SIGNAL_FILTER_ENABLE_PRIORITY=true
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤:

- **Winrate:** —É–ª—É—á—à–µ–Ω–∏–µ —Å 27.5% –¥–æ ~35-40%
- **Profit Factor:** —É–ª—É—á—à–µ–Ω–∏–µ —Å 0.97 –¥–æ ~1.1-1.2
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤:** —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ ~25-30% (–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã—à–µ)

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:

1. **–õ–æ–≥–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫:**
   - `üö´ –ë–õ–û–ö–ò–†–û–í–ö–ê —Å–∏–≥–Ω–∞–ª–∞: [–ø—Ä–∏—á–∏–Ω–∞]`
   - `‚ö†Ô∏è –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–∏–≥–Ω–∞–ª–∞`

2. **–ú–µ—Ç—Ä–∏–∫–∏:**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
   - Winrate –Ω–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫
   - Profit Factor

3. **–ê–Ω–∞–ª–∏–∑:**
   - –ó–∞–ø—É—Å–∫–∞—Ç—å `scripts/comprehensive_trade_analysis.py` –∫–∞–∂–¥—ã–µ 1-2 –Ω–µ–¥–µ–ª–∏
   - –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Å –Ω–æ–≤—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 –Ω–µ–¥–µ–ª—å

2. **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
   - –ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ - —Å–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥–∏
   - –ï—Å–ª–∏ winrate –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω - –ø–æ–≤—ã—Å–∏—Ç—å –ø–æ—Ä–æ–≥–∏

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
   - –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ 2 –Ω–µ–¥–µ–ª–∏
   - –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [x] –≠—Ç–∞–ø 1.1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π level_score
- [x] –≠—Ç–∞–ø 1.2: –ò—Å–∫–ª—é—á–µ–Ω–∏–µ SIDEWAYS
- [x] –≠—Ç–∞–ø 2: –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- [x] –≠—Ç–∞–ø 3: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º
- [x] –≠—Ç–∞–ø 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- [x] –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ analysis_engine.py
- [x] –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ level_touch_tasks.py
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

